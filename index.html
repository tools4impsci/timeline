<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life & Career Trajectory | C.M. Antonaccio</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.min.js"></script>

    <style>
        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
            background-color: #f1f5f9;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8;
        }
        body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent body scroll, let component handle it */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // 1. Setup Dependencies from Global Scope
        const { useState, useMemo, useRef, useEffect } = React;
        
        // Destructure Lucide icons from the global window object
        const { 
          Baby, MapPin, Activity, Stethoscope, HeartPulse, Brain, 
          GraduationCap, BookOpen, Code, Briefcase, Info, X, Scissors,
          User, Calendar, Search, Minus, Plus, RefreshCw, Heart,
          ArrowRight, Star, Anchor, Pill, Syringe
        } = window.lucideReact;

        // 2. Main Component
        const LifeTimeline = () => {
          const [selectedEvent, setSelectedEvent] = useState(null);
          const [hoveredEventId, setHoveredEventId] = useState(null);
          const scrollContainerRef = useRef(null);
          
          // --- ZOOM STATE ---
          const [zoomLevel, setZoomLevel] = useState(55); 

          // Configuration
          const startYear = 1994;
          const endYear = 2027; 
          const totalYears = endYear - startYear;

          // --- INITIAL SCROLL EFFECT ---
          useEffect(() => {
            if (scrollContainerRef.current) {
              const yearsFromStart = 2004 - startYear;
              const scrollPos = yearsFromStart * 55;
              scrollContainerRef.current.scrollLeft = scrollPos;
            }
          }, []);

          // --- DATA PROCESSING HELPERS ---
          const getDecimalYear = (yearStr, monthStr) => {
            if (!yearStr) return 0;
            let year = parseInt(yearStr);
            
            if (yearStr === 'Present') {
                const now = new Date();
                return now.getFullYear() + (now.getMonth() / 12);
            }
            
            if (!monthStr) return year;
            const months = {
              'Jan': 0, 'Feb': 1, 'Mar': 2, 'Apr': 3, 'May': 4, 'June': 5, 
              'July': 6, 'Aug': 7, 'Sept': 8, 'Oct': 9, 'Nov': 10, 'Dec': 11
            };
            return year + ((months[monthStr] || 0) / 12);
          };

          const events = [
            // --- LIFE TRACK ---
            { 
              id: 1, year: '1994', title: 'Born', 
              description: 'Born in Lancaster, PA.', category: 'life', icon: <Baby size={14} />, type: 'milestone', 
              labelPlacement: 'top-center' 
            },
            { 
              id: 2, year: '2002', title: 'Move to NJ', 
              description: 'Relocated to Long Valley, New Jersey.', category: 'life', icon: <MapPin size={14} />, type: 'milestone',
              labelPlacement: 'top-center'
            },
            { 
              id: 4, year: '2005', month: 'July', title: 'Osteosarcoma Dx', 
              description: 'Diagnosed with osteosarcoma in the left femur at age 11.', category: 'life', icon: <Activity size={14} />, type: 'milestone', highlight: true,
              labelPlacement: 'top-left' 
            },
            { 
              id: 8, year: '2010', month: 'Mar', title: 'Astrocytoma Dx', 
              description: 'Diagnosed with secondary anaplastic astrocytoma following a seizure at age 15.', category: 'life', icon: <Brain size={14} />, type: 'milestone', highlight: true,
              labelPlacement: 'top-left'
            },
            { 
              id: 20, year: '2017', month: 'Mar', title: 'Mom\'s Diagnosis', 
              description: 'Mother diagnosed with leiomyosarcoma.', category: 'life', icon: <Activity size={14} />, type: 'milestone',
              labelPlacement: 'top-left'
            },
            { 
              id: 21, year: '2017', month: 'Mar', endYear: '2018', endMonth: 'Feb', title: 'Caregiving (Mom)', 
              description: 'Primary caregiver for my mother during her treatment at MSK. This experience provided a profound dual-perspective on the patient-family unit within the same hospital system where I was treated.', category: 'life', type: 'range' 
            },
            { 
              id: 22, year: '2018', month: 'Feb', title: 'Mom\'s Passing', 
              description: 'Passing of mother after battle with leiomyosarcoma.', category: 'life', icon: <Heart size={14} />, type: 'milestone',
              labelPlacement: 'bottom-right'
            },

            // --- SURGERIES TRACK ---
            { 
              id: 6, year: '2005', month: 'Oct', title: 'Limb Salvage',
